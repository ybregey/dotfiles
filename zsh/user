# do not paste on touchpad middle-click
fix_touchpad() {
  xinput list
  echo "xinput set-button-map 15 1 0 3"
}

# Preferred editor for local and remote sessions
export EDITOR='vi'

alias a='atom'

# sudo apt install xclip -y
alias pbcopy='xclip -selection clipboard'
alias pbpaste='xclip -selection clipboard -o'

# copy public key
alias cpkey="pbcopy < ~/.ssh/id_rsa.pub"
# copy last git commit message
alias cplast="git log -1 --pretty=%B | pbcopy"

alias distro='cat /etc/*-release'
alias sapu='sudo apt-get update'
alias supr='sudo apt-get update && sudo apt-get upgrade'
alias sapti='sudo apt install'

# FIXME
alias L='| less'
alias G='| grep'

alias h='history | grep'
alias l='ls -lahF | grep'

#alias egrep='egrep --color=auto'
#alias fgrep='fgrep --color=auto'
#alias grep='grep --color=auto'
#alias l.='ls -d .* --color=auto'
#alias ll='ls -l --color=auto'
#alias ls='ls --color=auto'

# archives
alias untar='tar -zxvf '

# run web servers
alias wwwr='ruby -run -ehttpd . -p 8000'
alias wwwp='python3 -m http.server' # 8000 port

# dir helpers
alias tch='_tch(){ mkdir -p `dirname $1` && touch $1 }; _tch '
alias mkcd='_mkcd(){ mkdir -p "$1"; cd "$1" }; _mkcd '

# convenience aliases for editing configs
alias ev='vi ~/.vimrc'
alias et='vi ~/.tmux.conf'
alias ez='vi ~/.zshrc'
alias ep='vi ~/.pryrc'

howtokill() {
  echo 'sudo kill -9 $(lsof -i :3000 -t)'
}

work() {
  wmctrl -r "Telegram" -b add,skip_taskbar
}

unwork() {
  wmctrl -r "Telegram" -b remove,skip_taskbar
}

undistract() {
  wmctrl -r "Settings" -b add,skip_taskbar
  wmctrl -r "Bluetooth Devices" -b add,skip_taskbar
  #wmctrl -r "Slack" -b add,skip_taskbar
  wmctrl -r "Postman" -b add,skip_taskbar
  wmctrl -r "Zoom - Licensed Account" -b add,skip_taskbar
  wmctrl -r "Telegram" -b add,skip_taskbar
  wmctrl -r "Spotify Premium" -b add,skip_taskbar
}

trim_taskbar() {
  wmctrl -r "Settings" -b add,skip_taskbar
  wmctrl -r "Bluetooth Devices" -b add,skip_taskbar
  wmctrl -r "Zoom - Licensed Account" -b add,skip_taskbar
  wmctrl -r "Telegram" -b remove,skip_taskbar
  #wmctrl -r "Slack" -b add,skip_taskbar
  #wmctrl -r "Postman" -b add,skip_taskbar
}

untrim_taskbar() {
  wmctrl -r "Settings" -b remove,skip_taskbar
  wmctrl -r "Bluetooth Devices" -b remove,skip_taskbar
  wmctrl -r "Slack" -b remove,skip_taskbar
  wmctrl -r "Postman" -b remove,skip_taskbar
}

hide_slack() {
  wmctrl -r "Slack" -b add,skip_taskbar
}

unhide_slack() {
  wmctrl -r "Slack" -b remove,skip_taskbar
}


function setzoom() { gsettings set org.gnome.desktop.interface text-scaling-factor "$@"; }

combos() {
  echo '
    Ctrl + U – delete from the cursor to the start of the line.
    Ctrl + K – delete from the cursor to the end of the line.
    Ctrl + W – delete from the cursor to the start of the preceding word.
    Alt + D – delete from the cursor to the end of the next word.
    Ctrl + L – clear the terminal.
  '
}

mem() {
  watch -n 0.5 'pmap -x $@ | grep total' 
}

# emulate bash PROMPT_COMMAND (only for zsh)
precmd() { eval "$PROMPT_COMMAND" }
# open new terminal in same dir
PROMPT_COMMAND='pwd > "${HOME}/.cwd"'
[[ -f "${HOME}/.cwd" ]] && cd "$(< ${HOME}/.cwd)"

# Sound
# pacmd list-cards
# turn headset_head_unit mode on
headset() {
  pactl set-card-profile bluez_card.94_DB_56_89_48_1F headset_head_unit
}

# turn a2dp_sink mode on
a2dp_sink() {
  pactl set-card-profile bluez_card.94_DB_56_89_48_1F a2dp_sink_aac
}
